# Sales Insights Backend

Minimal FastAPI backend that turns raw sales records into handy summaries for dashboards and analysts. Built to match the PRD for Avan's Semester 3 project.

## Features

- SQLAlchemy models with relationships for products, customers, orders, and order items.
- CRUD endpoints plus health check.
- Analytics endpoints powered by pandas for:
  - Sales over time (daily/weekly/monthly).
  - Top-selling products.
  - Category-level summaries.
- Optional CSV export for downstream tools.
- Tests using pytest and FastAPI's TestClient.

## Getting Started

```bash
python -m venv .venv
.venv\Scripts\activate  # Windows
pip install -r requirements.txt
```

### Run the API

```bash
uvicorn app.main:app --reload
```

The default database is `sqlite:///./sales.db`. Set `DATABASE_URL` to point at PostgreSQL (e.g. `postgresql+psycopg2://user:pass@host/db`) for deployment.

### Seed Sample Data

```bash
python scripts/seed.py
```

### Run Tests

```bash
pytest
```

## Endpoints Overview

- `GET /health` â€“ readiness check.
- `POST /products`, `GET /products`
- `POST /customers`, `GET /customers`
- `POST /orders`, `GET /orders`
- `GET /analytics/sales-over-time?interval=monthly`
- `GET /analytics/top-products?limit=5`
- `GET /analytics/category-summary`
- `GET /analytics/sales-export`

Refer to the autogenerated Swagger UI at `/docs` for request/response samples.

